<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="/cesium/Widgets/widgets.css">
    <script src="/cesium/Cesium.js"></script>

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create-Cesium ğŸŒ</title>
    
    <style>
      #cesiumContainer {
        width: 100%;
        height: 100vh;
      }
      .control-panel {
        position: absolute;
        top: 20px;
        left: 80px;
        z-index: 1000;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        max-width: 300px;
      }
      .control-panel h3 {
        margin: 0 0 15px 0;
        color: #333;
        font-size: 16px;
        border-bottom: 1px solid #eee;
        padding-bottom: 10px;
      }
      .button-group {
        margin-bottom: 15px;
      }
      .button-group:last-child {
        margin-bottom: 0;
      }
      .button-group h4 {
        margin: 0 0 10px 0;
        color: #666;
        font-size: 14px;
      }
      button {
        display: block;
        width: 100%;
        padding: 8px 12px;
        margin-bottom: 8px;
        background: #fff;
        border: 1px solid #ddd;
        border-radius: 4px;
        color: #333;
        font-size: 14px;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      button:hover {
        background: #f5f5f5;
        border-color: #ccc;
      }
      button:active {
        background: #e9e9e9;
      }
      button:last-child {
        margin-bottom: 0;
      }
      #removeAll {
        background: #ff4d4f;
        color: white;
        border: none;
      }
      #removeAll:hover {
        background: #ff7875;
      }
    </style>
    <script type="module" crossorigin src="/assets/index.8770718e.js"></script>
    <link rel="stylesheet" href="/assets/index.d8037457.css">
  </head>
<body>
    <div id="cesiumContainer"></div>
    <div class="control-panel">
      <h3>æ ‡è®°ç‚¹æ§åˆ¶é¢æ¿</h3>
      
      <div class="button-group">
        <h4>åŸå¸‚æ ‡è®°</h4>
        <button id="addBeijing">æ·»åŠ åŒ—äº¬</button>
        <button id="addShanghai">æ·»åŠ ä¸Šæµ·</button>
        <button id="addGuangzhou">æ·»åŠ å¹¿å·</button>
        <button id="addShenzhen">æ·»åŠ æ·±åœ³</button>
      </div>

      <div class="button-group">
        <h4>å›¾æ ‡æ ‡è®°</h4>
        <button id="addIconMarker">æ·»åŠ å›¾æ ‡æ ‡è®°</button>
      </div>

      <div class="button-group">
        <h4>èšåˆæ ‡è®°</h4>
        <button id="addClusterMarkers">æ·»åŠ èšåˆç‚¹</button>
        <button id="enableClustering">å¯ç”¨èšåˆ</button>
        <button id="disableClustering">ç¦ç”¨èšåˆ</button>
      </div>

      <div class="button-group">
        <h4>æ‰¹é‡æ“ä½œ</h4>
        <button id="addMultiMarkers">æ·»åŠ å¤šä¸ªæ ‡è®°</button>
        <button id="removeAll">æ¸…é™¤æ‰€æœ‰æ ‡è®°</button>
      </div>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const cesiumLite = new CesiumLite('cesiumContainer', {
          map: {
            baseMap: {
              id: 'imagery'
            },
            camera: {
              longitude: 116.397428,
              latitude: 39.90923,
              height: 1000000,
              heading: 0,
              pitch: -90,
              roll: 0
            }
          }
        });
        
        // åˆå§‹åŒ–èšåˆç‚¹ç®¡ç†å·¥å…·
        let clusterMarker = null;
        
        // æ·»åŠ åŒ—äº¬æ ‡è®°
        document.getElementById('addBeijing').addEventListener('click', () => {
          cesiumLite.marker.addMarker(Cesium.Cartesian3.fromDegrees(116.397428, 39.90923),{
            position: Cesium.Cartesian3.fromDegrees(116.397428, 39.90923),
            point: {
              pixelSize: 10,
              color: Cesium.Color.RED
            },
            label: {
              text: 'åŒ—äº¬',
              font: '14px sans-serif',
              fillColor: Cesium.Color.WHITE,
              style: Cesium.LabelStyle.FILL_AND_OUTLINE,
              outlineWidth: 2,
              verticalOrigin: Cesium.VerticalOrigin.BOTTOM,
              pixelOffset: new Cesium.Cartesian2(0, -10)
            }
          })
        });

        // æ·»åŠ ä¸Šæµ·æ ‡è®°
        document.getElementById('addShanghai').addEventListener('click', () => {
          cesiumLite.marker.addMarker(Cesium.Cartesian3.fromDegrees(121.473701, 31.230416),{
            position: Cesium.Cartesian3.fromDegrees(121.473701, 31.230416),
            point: {
              pixelSize: 10,
              color: Cesium.Color.BLUE
            },
            label: {
              text: 'ä¸Šæµ·',
              font: '14px sans-serif',
              fillColor: Cesium.Color.WHITE,
              style: Cesium.LabelStyle.FILL_AND_OUTLINE,
              outlineWidth: 2,
              verticalOrigin: Cesium.VerticalOrigin.BOTTOM,
              pixelOffset: new Cesium.Cartesian2(0, -10)
            }
          })
        });

        // æ·»åŠ å¹¿å·æ ‡è®°
        document.getElementById('addGuangzhou').addEventListener('click', () => {
          cesiumLite.marker.addMarker(Cesium.Cartesian3.fromDegrees(113.264385, 23.129112),{
            position: Cesium.Cartesian3.fromDegrees(113.264385, 23.129112),
            point: {
              pixelSize: 10,
              color: Cesium.Color.GREEN
            },
            label: {
              text: 'å¹¿å·',
              font: '14px sans-serif',
              fillColor: Cesium.Color.WHITE,
              style: Cesium.LabelStyle.FILL_AND_OUTLINE,
              outlineWidth: 2,
              verticalOrigin: Cesium.VerticalOrigin.BOTTOM,
              pixelOffset: new Cesium.Cartesian2(0, -10)
            }
          })
        });

        // æ·»åŠ æ·±åœ³æ ‡è®°
        document.getElementById('addShenzhen').addEventListener('click', () => {
          cesiumLite.marker.addMarker(Cesium.Cartesian3.fromDegrees(114.057868, 22.543099),{
            position: Cesium.Cartesian3.fromDegrees(114.057868, 22.543099),
            point: {
              pixelSize: 10,
              color: Cesium.Color.PURPLE
            },
            label: {
              text: 'æ·±åœ³',
              font: '14px sans-serif',
              fillColor: Cesium.Color.WHITE,
              style: Cesium.LabelStyle.FILL_AND_OUTLINE,
              outlineWidth: 2,
              verticalOrigin: Cesium.VerticalOrigin.BOTTOM,
              pixelOffset: new Cesium.Cartesian2(0, -10)
            }
          })
        });

        // æ·»åŠ å›¾æ ‡æ ‡è®°
        document.getElementById('addIconMarker').addEventListener('click', () => {
          cesiumLite.marker.addMarker(Cesium.Cartesian3.fromDegrees(120.153576, 30.287459),{
            position: Cesium.Cartesian3.fromDegrees(120.153576, 30.287459),
            useIcon: true,
            image: './image/cesium.svg',
            billboard: {
              scale: 0.5,
            },
            label: {
              text: 'æ­å·',
              font: '14px sans-serif',
              fillColor: Cesium.Color.WHITE,
              style: Cesium.LabelStyle.FILL_AND_OUTLINE,
              outlineWidth: 2,
              verticalOrigin: Cesium.VerticalOrigin.BOTTOM,
              pixelOffset: new Cesium.Cartesian2(0, -30)
            }
          })
        });

        // æ‰¹é‡æ·»åŠ æ ‡è®°ç‚¹
        document.getElementById('addMultiMarkers').addEventListener('click', () => {
          const cities = [
            { position: [108.948024, 34.263161], text: 'è¥¿å®‰', color: Cesium.Color.ORANGE },
            { position: [104.065735, 30.659462], text: 'æˆéƒ½', color: Cesium.Color.DARKGREEN },
            { position: [106.504962, 29.533155], text: 'é‡åº†', color: Cesium.Color.DARKORANGE },
            { position: [126.642464, 45.756967], text: 'å“ˆå°”æ»¨', color: Cesium.Color.CYAN }
          ];
          
          const markers = cities.map(city => (city.position,{
            position: city.position,
            point: {
              pixelSize: 10,
              color: city.color
            },
            label: {
              text: city.text,
              font: '14px sans-serif',
              fillColor: Cesium.Color.WHITE,
              style: Cesium.LabelStyle.FILL_AND_OUTLINE,
              outlineWidth: 2,
              verticalOrigin: Cesium.VerticalOrigin.BOTTOM,
              pixelOffset: new Cesium.Cartesian2(0, -10)
            }
          }));
          
          cesiumLite.marker.addMarkers(markers);
        });

        // æ¸…é™¤æ‰€æœ‰æ ‡è®°
        document.getElementById('removeAll').addEventListener('click', () => {
          cesiumLite.marker.clearAll();
          if (clusterMarker) {
            clusterMarker.clearAll();
          }
        });
        
        // æ·»åŠ èšåˆç‚¹
        document.getElementById('addClusterMarkers').addEventListener('click', () => {
          clusterMarker = cesiumLite.clusterMarker;
          
          // ç”Ÿæˆéšæœºç‚¹æ•°æ®
          const randomMarkers = [];
          const centerLon = 116.397428;
          const centerLat = 39.90923;
          
          // åœ¨åŒ—äº¬å‘¨å›´ç”Ÿæˆ30ä¸ªéšæœºç‚¹
          for (let i = 0; i < 500; i++) {
            // éšæœºåç§»é‡ï¼ŒèŒƒå›´çº¦ä¸ºæ–¹åœ†300å…¬é‡Œ
            const offsetLon = (Math.random() - 0.5) * 5;
            const offsetLat = (Math.random() - 0.5) * 5;
            
            randomMarkers.push({
              position: [centerLon + offsetLon, centerLat + offsetLat],
              point: {
                pixelSize: 8,
                color: Cesium.Color.fromRandom({alpha: 1.0})
              },
              label: {
                text: `ç‚¹ä½${i+1}`,
                font: '12px sans-serif',
                fillColor: Cesium.Color.WHITE,
                style: Cesium.LabelStyle.FILL_AND_OUTLINE,
                outlineWidth: 2,
                verticalOrigin: Cesium.VerticalOrigin.BOTTOM,
                pixelOffset: new Cesium.Cartesian2(0, -10),
                show: false // é»˜è®¤ä¸æ˜¾ç¤ºæ ‡ç­¾ï¼Œåªåœ¨ç‚¹å‡»æ—¶æ˜¾ç¤º
              }
            });
          }
          
          // æ‰¹é‡æ·»åŠ æ ‡è®°ç‚¹
          clusterMarker.addMarkers(randomMarkers);
          
          // é»˜è®¤å¯ç”¨èšåˆ
          clusterMarker.enableClustering();
        });
        
        // å¯ç”¨èšåˆ
        document.getElementById('enableClustering').addEventListener('click', () => {
          if (clusterMarker) {
            clusterMarker.enableClustering();
          } else {
            alert('è¯·å…ˆæ·»åŠ èšåˆç‚¹');
          }
        });
        
        // ç¦ç”¨èšåˆ
        document.getElementById('disableClustering').addEventListener('click', () => {
          if (clusterMarker) {
            clusterMarker.disableClustering();
          } else {
            alert('è¯·å…ˆæ·»åŠ èšåˆç‚¹');
          }
        });
      });
    </script>
  </body>
</html>